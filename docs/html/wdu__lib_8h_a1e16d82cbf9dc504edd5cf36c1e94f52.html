<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
 <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110109-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-110109-1');
</script>
<script type="text/javascript" src="../common/version.js"></script>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="description" content="WDU_GetStringDesc"/>
<title>Jungo WinDriver: WDU_GetStringDesc</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-main.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="wd_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Jungo WinDriver
   &#160;
   <span id="projectnumber"></span>
   </div>
   <div id="projectbrief">Official Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('wdu__lib_8h_a1e16d82cbf9dc504edd5cf36c1e94f52.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="contents">
<a id="a1e16d82cbf9dc504edd5cf36c1e94f52" name="a1e16d82cbf9dc504edd5cf36c1e94f52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e16d82cbf9dc504edd5cf36c1e94f52">&#9670;&nbsp;</a></span>WDU_GetStringDesc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DWORD <a class="el" href="windrvr_8h_abd951991ce3a6320fb0d1eee9350d35d.html#abd951991ce3a6320fb0d1eee9350d35d">DLLCALLCONV</a> WDU_GetStringDesc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="windrvr_8h_aa74f89aa7d942f4a79ea12d7c9b763ef.html#aa74f89aa7d942f4a79ea12d7c9b763ef">_In_</a> <a class="el" href="wdu__lib_8h_ad12baf63efb8ba6d88f722a0ab152f47.html#ad12baf63efb8ba6d88f722a0ab152f47">WDU_DEVICE_HANDLE</a>&#160;</td>
          <td class="paramname"><em>hDevice</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="windrvr_8h_aa74f89aa7d942f4a79ea12d7c9b763ef.html#aa74f89aa7d942f4a79ea12d7c9b763ef">_In_</a> <a class="el" href="windrvr_8h_a4ae1dab0fb4b072a66584546209e7d58.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&#160;</td>
          <td class="paramname"><em>bStrIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="windrvr_8h_a57265f14f6e3094e0af22dd7a3bce0b7.html#a57265f14f6e3094e0af22dd7a3bce0b7">_Outptr_</a> PBYTE&#160;</td>
          <td class="paramname"><em>pbBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="windrvr_8h_aa74f89aa7d942f4a79ea12d7c9b763ef.html#aa74f89aa7d942f4a79ea12d7c9b763ef">_In_</a> DWORD&#160;</td>
          <td class="paramname"><em>dwBufSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="windrvr_8h_aa74f89aa7d942f4a79ea12d7c9b763ef.html#aa74f89aa7d942f4a79ea12d7c9b763ef">_In_</a> <a class="el" href="wdu__lib_8h_a32da8d492043ebf6118910ea0235f838.html#a32da8d492043ebf6118910ea0235f838">WDU_LANGID</a>&#160;</td>
          <td class="paramname"><em>langID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="windrvr_8h_a57265f14f6e3094e0af22dd7a3bce0b7.html#a57265f14f6e3094e0af22dd7a3bce0b7">_Outptr_</a> PDWORD&#160;</td>
          <td class="paramname"><em>pdwDescSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads a string descriptor from a device by string index. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hDevice</td><td>A unique identifier for the device/interface. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">bStrIndex</td><td>Index of the string descriptor to read. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pbBuf</td><td>Pointer to a buffer to be filled with the string descriptor that is read from the device. If the buffer is smaller than the string descriptor (dwBufSize &lt; *pdwDescSize), the returned descriptor will be truncated to dwBufSize bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dwBufSize</td><td>The size of the pbBuf buffer, in bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">langID</td><td>The language ID to be used in the get string descriptor request that is sent to the device. If langID is 0, the request will use the first supported language ID returned by the device. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">pdwDescSize</td><td>An optional DWORD pointer to be filled with the size of the string descriptor read from the device. If this parameter is NULL, the funWDU_StreamReadction will not return the size of the string descriptor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>WinDriver Error Code</dd></dl>
<div class="fragment"><div class="line"><a class="code hl_struct" href="structWDU__DEVICE.html">WDU_DEVICE</a> *pDevice;</div>
<div class="line">DWORD dwStatus;</div>
<div class="line"><a class="code hl_typedef" href="windrvr_8h_a4ae1dab0fb4b072a66584546209e7d58.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a> bSerialNum[0x100];</div>
<div class="line">DWORD dwSerialDescSize = 0;</div>
<div class="line"> </div>
<div class="line">dwStatus = <a class="code hl_function" href="wdu__lib_8h_a975050b3993f592471a8bc85c5e9a6f2.html#a975050b3993f592471a8bc85c5e9a6f2">WDU_GetDeviceInfo</a>(hDevice, &amp;pDevice);</div>
<div class="line"><span class="keywordflow">if</span> (dwStatus)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (!pDevice-&gt;<a class="code hl_variable" href="structWDU__DEVICE_a564159b20f48ed09151df40ce9f9864b.html#a564159b20f48ed09151df40ce9f9864b">Descriptor</a>.<a class="code hl_variable" href="structWDU__DEVICE__DESCRIPTOR_abd64d0ced56351ad7b61b6172500bf91.html#abd64d0ced56351ad7b61b6172500bf91">iSerialNumber</a>)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;Serial number is not available\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">goto</span> Exit;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="wdu__lib_8h_a1e16d82cbf9dc504edd5cf36c1e94f52.html#a1e16d82cbf9dc504edd5cf36c1e94f52">WDU_GetStringDesc</a>(hDevice, pDevice-&gt;<a class="code hl_variable" href="structWDU__DEVICE_a564159b20f48ed09151df40ce9f9864b.html#a564159b20f48ed09151df40ce9f9864b">Descriptor</a>.<a class="code hl_variable" href="structWDU__DEVICE__DESCRIPTOR_abd64d0ced56351ad7b61b6172500bf91.html#abd64d0ced56351ad7b61b6172500bf91">iSerialNumber</a>,</div>
<div class="line">    bSerialNum, <span class="keyword">sizeof</span>(bSerialNum), 0, &amp;dwSerialDescSize);</div>
<div class="line"> </div>
<div class="line">Exit:</div>
<div class="line">    <span class="keywordflow">if</span> (pDevice)</div>
<div class="line">        <a class="code hl_function" href="kpstdlib_8h_acc3b4a8c7b4ba9ec1fd2138ca3f6f650.html#acc3b4a8c7b4ba9ec1fd2138ca3f6f650">free</a>(pDevice);</div>
<div class="ttc" id="akpstdlib_8h_acc3b4a8c7b4ba9ec1fd2138ca3f6f650_html_acc3b4a8c7b4ba9ec1fd2138ca3f6f650"><div class="ttname"><a href="kpstdlib_8h_acc3b4a8c7b4ba9ec1fd2138ca3f6f650.html#acc3b4a8c7b4ba9ec1fd2138ca3f6f650">free</a></div><div class="ttdeci">void __cdecl free(void *buf)</div></div>
<div class="ttc" id="astructWDU__DEVICE__DESCRIPTOR_abd64d0ced56351ad7b61b6172500bf91_html_abd64d0ced56351ad7b61b6172500bf91"><div class="ttname"><a href="structWDU__DEVICE__DESCRIPTOR_abd64d0ced56351ad7b61b6172500bf91.html#abd64d0ced56351ad7b61b6172500bf91">WDU_DEVICE_DESCRIPTOR::iSerialNumber</a></div><div class="ttdeci">UCHAR iSerialNumber</div><div class="ttdoc">Index of serial number string descriptor.</div><div class="ttdef"><b>Definition:</b> <a href="windrvr__usb_8h_source.html#l00205">windrvr_usb.h:205</a></div></div>
<div class="ttc" id="astructWDU__DEVICE_a564159b20f48ed09151df40ce9f9864b_html_a564159b20f48ed09151df40ce9f9864b"><div class="ttname"><a href="structWDU__DEVICE_a564159b20f48ed09151df40ce9f9864b.html#a564159b20f48ed09151df40ce9f9864b">WDU_DEVICE::Descriptor</a></div><div class="ttdeci">WDU_DEVICE_DESCRIPTOR Descriptor</div><div class="ttdoc">CDevice descriptor information structure.</div><div class="ttdef"><b>Definition:</b> <a href="windrvr__usb_8h_source.html#l00259">windrvr_usb.h:259</a></div></div>
<div class="ttc" id="astructWDU__DEVICE_html"><div class="ttname"><a href="structWDU__DEVICE.html">WDU_DEVICE</a></div><div class="ttdef"><b>Definition:</b> <a href="windrvr__usb_8h_source.html#l00258">windrvr_usb.h:258</a></div></div>
<div class="ttc" id="awdu__lib_8h_a1e16d82cbf9dc504edd5cf36c1e94f52_html_a1e16d82cbf9dc504edd5cf36c1e94f52"><div class="ttname"><a href="wdu__lib_8h_a1e16d82cbf9dc504edd5cf36c1e94f52.html#a1e16d82cbf9dc504edd5cf36c1e94f52">WDU_GetStringDesc</a></div><div class="ttdeci">DWORD DLLCALLCONV WDU_GetStringDesc(_In_ WDU_DEVICE_HANDLE hDevice, _In_ BYTE bStrIndex, _Outptr_ PBYTE pbBuf, _In_ DWORD dwBufSize, _In_ WDU_LANGID langID, _Outptr_ PDWORD pdwDescSize)</div><div class="ttdoc">Reads a string descriptor from a device by string index.</div></div>
<div class="ttc" id="awdu__lib_8h_a975050b3993f592471a8bc85c5e9a6f2_html_a975050b3993f592471a8bc85c5e9a6f2"><div class="ttname"><a href="wdu__lib_8h_a975050b3993f592471a8bc85c5e9a6f2.html#a975050b3993f592471a8bc85c5e9a6f2">WDU_GetDeviceInfo</a></div><div class="ttdeci">DWORD DLLCALLCONV WDU_GetDeviceInfo(_In_ WDU_DEVICE_HANDLE hDevice, _Outptr_ WDU_DEVICE **ppDeviceInfo)</div><div class="ttdoc">Gets configuration information from the device including all the descriptors in a WDU_DEVICE struct.</div></div>
<div class="ttc" id="awindrvr_8h_a4ae1dab0fb4b072a66584546209e7d58_html_a4ae1dab0fb4b072a66584546209e7d58"><div class="ttname"><a href="windrvr_8h_a4ae1dab0fb4b072a66584546209e7d58.html#a4ae1dab0fb4b072a66584546209e7d58">BYTE</a></div><div class="ttdeci">unsigned char BYTE</div><div class="ttdef"><b>Definition:</b> <a href="windrvr_8h_source.html#l00315">windrvr.h:315</a></div></div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ef532da7b7e0496c177e9eedcbdec673.html">include</a></li><li class="navelem"><a class="el" href="wdu__lib_8h.html">wdu_lib.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
