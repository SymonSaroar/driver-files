<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
 <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110109-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-110109-1');
</script>
<script type="text/javascript" src="../common/version.js"></script>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="description" content="Chapter 3: Installing WinDriver"/>
<title>Jungo WinDriver: Chapter 3: Installing WinDriver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-main.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="wd_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Jungo WinDriver
   &#160;
   <span id="projectnumber"></span>
   </div>
   <div id="projectbrief">Official Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('ch3_installing_windriver.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Chapter 3: Installing WinDriver </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_chap03"></a>This chapter takes you through the process of installing WinDriver on your development platform, and shows you how to verify that your WinDriver is properly installed. The last section discusses the uninstall procedure.</p>
<p >To find out how to install a driver you created on target platforms, refer to <a class="el" href="ch15_distributing_your_driver.html">Chapter 15: Distributing Your Driver</a>.</p>
<h1><a class="anchor" id="ch3_1_system_requirements"></a>
3.1. System Requirements</h1>
<p >You can find below system requirements for Windows, Linux, and Mac.</p>
<h2><a class="anchor" id="ch3_1_1_windows_system_requirements"></a>
3.1.1. Windows System Requirements</h2>
<p >Please make sure that your development machine fits the following requirements:</p>
<ul>
<li>Any x86 32-bit or 64-bit (x64: AMD64 or Intel EM64T) processor, ARM processors supported by Microsoft.</li>
<li>Any compiler or development environment supporting C, .NET, Java or Python.</li>
</ul>
<h2><a class="anchor" id="ch3_1_2_linux_system_requirements"></a>
3.1.2. Linux System Requirements</h2>
<p >Any of the following processor architectures, with a 2.6.x or higher Linux kernel:</p>
<ul>
<li>32-bit x86.</li>
<li>64-bit x86 AMD64 or Intel EM64T (x86_64)</li>
<li>ARM Cortex-A7, A9, A15, A53, A57.</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;<b>ℹ️ Note</b></p>
<blockquote class="doxtable">
<p >&zwj;Jungo strives to support new Linux kernel versions as close as possible to their release. To find out the latest supported kernel version, refer to the WinDriver release notes that can be found online at <a href="https://www.jungo.com/st/support/windriver/wdver/">WinDriver Release Notes</a>. </p>
</blockquote>
</blockquote>
<ul>
<li>A GCC compiler. The version of the GCC compiler should match the compiler version used for building the running Linux kernel.</li>
<li>Any 32-bit or 64-bit development environment (depending on your target configuration) supporting C for user mode.</li>
<li>On your development PC: <b>glibc2.14.x (or newer)</b>.</li>
<li>The following libraries are required for running GUI WinDriver application (e.g., DriverWizard (see more in <a class="el" href="ch6_using_driverwizard.html">Chapter 6: Using DriverWizard</a>); Debug Monitor (see more in <a class="el" href="ch8_debugging_drivers.html#ch8_2_debug_monitor">8.2. Debug Monitor</a>):<ul>
<li><code>libstdc++.so.6</code></li>
<li><code>libpng12.so.0</code></li>
<li><code>libQtGui.so.4</code></li>
<li><code>libQtCore.so.4</code></li>
<li><code>libQtNetwork.so.4</code></li>
<li><code>libQt5Gui.so.5.9.5</code></li>
<li><code>libQt5Core.so.5.9.5</code></li>
<li><code>libQt5Network.so.5.9.5</code></li>
<li><code>make, gcc, flex, bison</code> (for installing WinDriver and Kernel Plugins)</li>
<li>The kernel source of the running Linux kernel Optional dependencies:</li>
<li><code>gcc-multilib</code> (for compiling 32-bit applications on 64-bit systems)</li>
<li>CMake (for compiling user mode samples)</li>
</ul>
</li>
</ul>
<p >Newer versions of Linux distributions, provide native support of Qt5 instead of Qt4. If your OS supports Qt4 instead of Qt5, use <code>wdwizard_legacy</code>, <code>wddebug_gui_legacy</code>, <code>xdma_gui_legacy</code> instead of the non-prefixed versions. Check out <a class="el" href="ch3_installing_windriver.html#ch3_2_2_1_preparing_the_system_for_installation_linux">3.2.2.1. Preparing the System for Installation</a> for instructions how to install the above requirements on various Linux distributions.</p>
<h2><a class="anchor" id="ch3_1_3_macos_system_requirements"></a>
3.1.3. MacOS System Requirements</h2>
<p >Please make sure that your development machine fits the following requirements:</p>
<ul>
<li>An Apple Macintosh computer running MacOS versions 10.10-11.</li>
<li>XCode Command Line Tools</li>
</ul>
<h1><a class="anchor" id="ch3_2_windriver_installation_process"></a>
3.2. WinDriver Installation Process</h1>
<h2><a class="anchor" id="ch3_2_1_windows_windriver_installation_instructions"></a>
3.2.1. Windows WinDriver Installation Instructions</h2>
<blockquote class="doxtable">
<p >&zwj;<b>⚠ Attention</b></p>
<blockquote class="doxtable">
<p >&zwj;Driver installation on Windows requires administrator privileges. </p>
</blockquote>
</blockquote>
<ul>
<li>Run the WinDriver installation — <code>WD1511.EXE</code> (for 32-bit) or <code>WD1511X64.EXE</code> (for 64-bit) — and follow the installation instructions.</li>
<li>At the end of the installation, you may be prompted to reboot your computer.</li>
</ul>
<p >The WinDriver installation defines a <code>WD_BASEDIR</code> environment variable, which is set to point to the location of your WinDriver directory, as selected during the installation. This variable is used during the DriverWizard code generation — it determines the default directory for saving your generated code and is used in the include paths of the generated project/make files. This variable is also used in the sample Kernel PlugIn projects and makefiles.</p>
<p >If the installation fails with an <code>ERROR_FILE_NOT_FOUND</code> error, inspect the Windows registry to see if the RunOnce key exists in <code>HKEY_LOCAL_MACHINE\SOFTWARE \Microsoft\Windows\CurrentVersion</code>. This registry key is required by Windows Plug-and-Play in order to properly install drivers using INF files. If the <code>RunOnce</code> key is missing, create it; then try installing the INF file again.</p>
<p ><b>The following steps are for registered users only</b>:</p>
<p >To register your copy of WinDriver with the license you received from Jungo, follow these steps:</p>
<ul>
<li>Start DriverWizard: <b>Start</b> | <b>Programs</b> | <b>WinDriver</b> | <b>DriverWizard</b>.</li>
<li>Select the <b>Register WinDriver</b> option from the <b>File</b> menu, and insert the license string you received from Jungo.</li>
<li>Click the <b>Activate License</b> button.</li>
<li>To register source code that you developed during the evaluation period, refer to the documentation of <a class="el" href="wdu__lib_8h_a043527105668e3c0e1ec6af7965b2357.html#a043527105668e3c0e1ec6af7965b2357" title="Starts listening to devices matching a criteria, and registers notification callbacks for those devic...">WDU_Init()</a> / <a class="el" href="wdc__lib_8h_afe495f80d709b330bb26a80756cd9f9f.html#afe495f80d709b330bb26a80756cd9f9f" title="Opens and stores a handle to WinDriver&#39;s kernel module and initializes the WDC library according to t...">WDC_DriverOpen()</a>.</li>
</ul>
<p >When using the low-level WD_xxx API instead of the WDC_xxx API (which is used by default), refer to the documentation of <a class="el" href="windrvr_8h_a7d44fc6d31627ded58bfd36543909464.html#a7d44fc6d31627ded58bfd36543909464" title="Transfers the license string to the WinDriver kernel module When using the high-level WDC library API...">WD_License()</a> in this manual.</p>
<h2><a class="anchor" id="ch3_2_2_linux_windriver_installation_instructions"></a>
3.2.2. Linux WinDriver Installation Instructions</h2>
<h3><a class="anchor" id="ch3_2_2_1_preparing_the_system_for_installation_linux"></a>
3.2.2.1. Preparing the System for Installation</h3>
<p >In Linux, kernel modules must be compiled with the same header files that the kernel itself was compiled with. Since WinDriver installs kernel modules, it must compile with the header files of the Linux kernel during the installation process.</p>
<p >In modern Linux distributions such as Ubuntu, CentOS and Fedora the kernel headers are usually either already installed with the OS, or are easily obtainable via the distribution's package manager. Our suggestion would be to skip to the next section and in case of failure there try the steps mentioned here.</p>
<p >On other less common Linux kernel/distributions, compiling the kernel itself may be neccesary. If you're using such a kernel, for more info on compiling it, check out the documentation of the Linux Kernel you're using.</p>
<p >The following instructions may vary according to different versions of the distributions.</p>
<p >CentOS: </p><div class="fragment"><div class="line"># Prepare and update apt package manager databases</div>
<div class="line">sudo yum update</div>
<div class="line"> </div>
<div class="line"># Install prerequistes for kernel development and kernel headers</div>
<div class="line">sudo yum install kernel-devel kernel-headers</div>
<div class="line">sudo yum groupinstall &quot;Development Tools&quot;</div>
<div class="line"> </div>
<div class="line"># qt5 install for GUI applications to work</div>
<div class="line">sudo yum --enablerepo=extras install epel-release</div>
<div class="line">sudo yum install qt5-qtbase qt5-qtbase-gui</div>
</div><!-- fragment --><p> Browse the web to find exact installation instructions of CMake for your CentOS version.</p>
<p >Ubuntu/Debian: </p><div class="fragment"><div class="line"># Prepare and update apt package manager databases</div>
<div class="line">sudo apt update</div>
<div class="line"> </div>
<div class="line"># Install prerequistes for kernel development and kernel headers</div>
<div class="line">sudo apt install make gcc bison flex linux-headers-$(uname -r)</div>
<div class="line"> </div>
<div class="line"># CMake install for compiling user mode samples and generated code</div>
<div class="line">sudo apt install cmake</div>
<div class="line"> </div>
<div class="line"># qt5 install for GUI applications to work</div>
<div class="line">sudo apt install libqt5gui5</div>
</div><!-- fragment --><ul>
<li>On your development Linux machine, change directory to your preferred installation directory, for example, to your home directory:</li>
</ul>
<div class="fragment"><div class="line">$ cd ~</div>
</div><!-- fragment --><blockquote class="doxtable">
<p >&zwj;<b>⚠ Attention</b></p>
<blockquote class="doxtable">
<p >&zwj;The path to the installation directory must not contain any spaces. </p>
</blockquote>
</blockquote>
<ul>
<li>Extract the WinDriver distribution file — <code>WD1511LN.tar.gz</code> / <code>WD1511LNx86_64.tar</code> / <code>WD1511LNARM.tar</code> / <code>WD1511LNARM64.tar</code></li>
</ul>
<div class="fragment"><div class="line">$ tar -xvzf &lt;file location&gt;/WD1511LN[x86_64/ARM/ARM64].tar.gz</div>
</div><!-- fragment --><h3><a class="anchor" id="ch3_2_2_2_installing_windriver_on_x86-x86_64_systems"></a>
3.2.2.2. Installing WinDriver on x86/x86_64 systems</h3>
<p >Kindly make sure you've performed the appropriate preparations described in <br  />
 <a class="el" href="ch3_installing_windriver.html#ch3_2_2_1_preparing_the_system_for_installation_linux">3.2.2.1. Preparing the System for Installation</a> in order for the following instructions to work.</p>
<ul>
<li>Change directory to your WinDriver <b>redist</b> directory (the tar automatically creates a WinDriver directory): <div class="fragment"><div class="line">$ cd &lt;WinDriver directory path&gt;/redist</div>
</div><!-- fragment --></li>
<li>Install WinDriver:<ul>
<li>Enter the following:</li>
</ul>
</li>
</ul>
<div class="fragment"><div class="line">`&lt;WinDriver directory&gt;/redist`$ ./configure</div>
</div><!-- fragment --><blockquote class="doxtable">
<p >&zwj;<b>⚠ Attention</b></p>
<blockquote class="doxtable">
<p >&zwj;The configuration script creates a makefile based on the running kernel. You may select to use another installed kernel source, by executing the script with the - <code>-with-kernel-source=&lt;path&gt;</code> option, where <code>&lt;path&gt;</code> is the full path to the kernel source directory — e.g., <code>/usr/src/linux</code>. If the Linux kernel version is 2.6.26 or higher, the configuration script generates makefiles that use kbuild to compile the kernel modules. For a full list of the configuration script options, use the - <code>-help</code> option: <code>./configure - -help</code> </p>
</blockquote>
</blockquote>
<blockquote class="doxtable">
<p >&zwj;<b>⚠ Attention</b></p>
<blockquote class="doxtable">
<p >&zwj;If you are going to use WinDriver for multiple USB devices with the same VID/ PID, add <code>-DMULTIPLE_SAME_DEVICES</code> to the <code>EXTRA_CFLAGS</code> variable in <code>makefile.usb.kbuild</code>. </p>
</blockquote>
</blockquote>
<ul>
<li>Then:</li>
</ul>
<div class="fragment"><div class="line">&lt;WinDriver directory&gt;/redist$ make</div>
</div><!-- fragment --><ul>
<li>And install the driver (as root user):</li>
</ul>
<div class="fragment"><div class="line">&lt;WinDriver directory&gt;/redist$ sudo make install</div>
</div><!-- fragment --><ul>
<li>Create a symbolic link so that you can easily launch the DriverWizard GUI:</li>
</ul>
<div class="fragment"><div class="line">$ ln -s &lt;path to WinDriver&gt;/wizard/wdwizard /usr/bin/wdwizard</div>
</div><!-- fragment --><p >On older Linux environments such as Ubuntu 16.04 that provide Qt4 instead of Qt5, run <code>wdwizard_legacy</code> instead of <code>wdwizard</code>.</p>
<ul>
<li>Change the read and execute permissions on the file wdwizard so that ordinary users can access this program.</li>
<li>Change the user and group IDs and give read/write permissions to the device file <code>/dev/windrvr1511</code>, depending on how you wish to allow users to access hardware through the device. Due to security reasons, by default the device file is created with permissions only for the root user. Change the permissions by modifying your <code>/etc/udev/permissions.d/50-udev.permissions</code> file. For example, add the following line to provide read and write permissions: <code>windrvr1511:root:root:0666</code></li>
<li>Define a new WD_BASEDIR environment variable and set it to point to the location of your WinDriver directory, as selected during the installation. This variable is used in the make and source files of the WinDriver samples and generated DriverWizard code, and is also used to determine the default directory for saving your generated DriverWizard projects. If you do not define this variable you will be instructed to do so when attempting to build the sample/generated code using the WinDriver makefiles.</li>
<li>Exit super user mode:</li>
</ul>
<div class="fragment"><div class="line"># exit</div>
</div><!-- fragment --><ul>
<li>You can now start using WinDriver to access your hardware and generate your driver code!</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;<b>⚠ Attention</b></p>
<blockquote class="doxtable">
<p >&zwj;Use the <code>WinDriver/util/wdreg</code> script to load the WinDriver kernel module. </p>
</blockquote>
</blockquote>
<p><b>The following steps are for registered users only</b>:</p>
<p >To register your copy of WinDriver with the license you received from Jungo, follow these steps:</p>
<ul>
<li>Start DriverWizard:</li>
</ul>
<div class="fragment"><div class="line">$ &lt;path to WinDriver&gt;/wizard/wdwizard</div>
</div><!-- fragment --><ul>
<li>Select the <b>Register WinDriver</b> option from the <b>File</b> menu, and insert the license string you received from Jungo.</li>
<li>Click the <b>Activate License</b> button.</li>
<li>To register source code that you developed during the evaluation period, refer to the documentation of <a class="el" href="wdc__lib_8h_afe495f80d709b330bb26a80756cd9f9f.html#afe495f80d709b330bb26a80756cd9f9f" title="Opens and stores a handle to WinDriver&#39;s kernel module and initializes the WDC library according to t...">WDC_DriverOpen()</a> . When using the low-level WD_xxx API instead of the WDC_xxx API (which is used by default), refer to the documentation of <a class="el" href="windrvr_8h_a7d44fc6d31627ded58bfd36543909464.html#a7d44fc6d31627ded58bfd36543909464" title="Transfers the license string to the WinDriver kernel module When using the high-level WDC library API...">WD_License()</a> in this manual.</li>
</ul>
<h3><a class="anchor" id="ch3_2_2_3_installing_windriver_on_arm-arm64_systems"></a>
3.2.2.3. Installing WinDriver on ARM/ARM64 systems</h3>
<p >Kindly make sure you've performed the appropriate preparations described in <br  />
 <a class="el" href="ch3_installing_windriver.html#ch3_2_2_1_preparing_the_system_for_installation_linux">3.2.2.1. Preparing the System for Installation</a> in order for the following instructions to work. The following steps assume you have the ability to compile WinDriver's kernel module on your ARM/ARM64 platform and link it with the running kernel's header. If that is not possible with your platform, <br  />
 see <a class="el" href="ch3_installing_windriver.html#ch3_2_2_3_1_cross_compiling_the_windriver_kernel_module_for_linux_arm-arm64_systems">3.2.2.3.1. Cross compiling the WinDriver kernel module for Linux ARM/ARM64 systems</a></p>
<p >Starting from WinDriver 14.0.0, Jungo distributes unified ARM and ARM64 versions, in an attempt to support as much platforms as possible. We have tested different platforms to work with WinDriver, but we believe that other platforms with similar credentials should work with these setups.</p>
<p >Therefore we provide an installation script <code>wd_arm_install.sh</code> or <code>wd_arm64_install.sh</code> that allows the user to either try differently compiled WinDriver kernel modules manually or automatically, until the user hopefully succeeds in installing them.</p>
<p >In order to start:</p><ul>
<li>Make sure you have all WinDriver dependencies for Linux (gcc, make, kernel sources/headers for your running kernel). Qt applications are currently not supported under ARM, therefore the Qt DLLs are not required.</li>
<li>Run the following:</li>
</ul>
<div class="fragment"><div class="line">cd WinDriver/redist &amp;&amp; sudo ./wd_arm_install.sh</div>
</div><!-- fragment --><p >or depending on your platform.</p>
<div class="fragment"><div class="line">cd WinDriver/redist &amp;&amp; sudo ./wd_arm64_install.sh</div>
</div><!-- fragment --><ul>
<li>Pick the platform type to install WinDriver for it, or choose automatic install to attempt installation of all available versions of WinDriver on your platform. If installation succeeded, the script will exit. You may modify the script’s source code to redistribute the driver if needed.</li>
<li>If all installations failed – feel free to contact Jungo’s support for assistance in getting WinDriver to run on your platform, or for porting WinDriver for it, at <a href="#" onclick="location.href='mai'+'lto:'+'sal'+'es'+'@ju'+'ng'+'o.c'+'om'; return false;">sales<span class="obfuscator">.nosp@m.</span>@jun<span class="obfuscator">.nosp@m.</span>go.co<span class="obfuscator">.nosp@m.</span>m</a>.</li>
</ul>
<h4><a class="anchor" id="ch3_2_2_3_1_cross_compiling_the_windriver_kernel_module_for_linux_arm-arm64_systems"></a>
3.2.2.3.1. Cross compiling the WinDriver kernel module for Linux ARM/ARM64 systems</h4>
<p >Some ARM/ARM64 platforms do not support compilation of kernel modules on the platform itself (which is the classic and recommended way to install WinDriver on Linux). For those cases, we provide a method to cross-compile the WinDriver kernel module on a development machine and then install it on an ARM/ARM64 platform. In order to do this perform the following steps:</p>
<p ><em>On the development machine:</em></p><ol type="1">
<li>Obtain and cross compile your platform's Linux kernel source from the vendor's website. Search for your vendor's instructions on how to do so.</li>
<li>Make sure you have installed the relevant gcc compiler for the platform (<code>arm-linux-gnueabihf-gcc</code> for ARM, <code>aarch64-linux-gnu-gcc</code> for ARM64).</li>
<li>Download the ARM/ARM64 WinDriver package to your Linux development machine (even if your development platform is of a different architecture!).</li>
<li>Untar the WinDriver package <div class="fragment"><div class="line">$ tar -xzvf WD1511LNARM.tar.gz</div>
<div class="line"># or </div>
<div class="line">$ tar -xzvf WD1511LNARM64.tar.gz</div>
</div><!-- fragment --></li>
<li>Go to the redist folder and run the cross compilation script:</li>
</ol>
<p >for ARM: </p><div class="fragment"><div class="line">$ cd WD1511LNARM/redist</div>
<div class="line">$ sudo ./wd_arm_cross_compile.sh PATH_TO_YOUR_COMPILED_KERNEL_SOURCE</div>
</div><!-- fragment --><p> or for ARM64: </p><div class="fragment"><div class="line">$ cd WD1511LNARM64/redist</div>
<div class="line">$ sudo ./wd_arm64_cross_compile.sh PATH_TO_YOUR_COMPILED_KERNEL_SOURCE</div>
</div><!-- fragment --><p >Follow the instructions in the script and choose one of the options for which type of <code>.ko</code> file to build. Since your platform may be different from the platforms listed in the script (there are endless platforms and kernel types out there), you can try compiling with different options and trying to install the resulting kernel modules on your platform until you find a version that works. If after trying all versions you have not found a version which works with your platform, feel free to contact <a href="#" onclick="location.href='mai'+'lto:'+'sal'+'es'+'@ju'+'ng'+'o.c'+'om'; return false;">sales<span class="obfuscator">.nosp@m.</span>@jun<span class="obfuscator">.nosp@m.</span>go.co<span class="obfuscator">.nosp@m.</span>m</a> for further assistance.</p>
<p ><em>On the ARM/ARM64 platform:</em></p><ol type="1">
<li>Transfer the WinDriver package to your platform and untar it: <div class="fragment"><div class="line">$ tar -xzvf WD1511LNARM.tar.gz</div>
<div class="line"># or </div>
<div class="line">$ tar -xzvf WD1511LNARM64.tar.gz</div>
</div><!-- fragment --></li>
<li>Go to the redist folder and install the driver: <div class="fragment"><div class="line">$ cd WD1511LNARM/redist</div>
</div><!-- fragment --></li>
<li>Copy the directory <code>WD1511/redist/LINUX.PRECOMPILED.ARM</code> or <code>WD1511/redist/LINUX.PRECOMPILED.ARM64</code> from the development machine to <code>WD1511/redist/LINUX.PRECOMPILED.ARM</code> or <code>WD1511/redist/LINUX.PRECOMPILED.ARM64</code> on your platform.</li>
<li>Install the precompiled kernel module(s): <div class="fragment"><div class="line">$ ./configure --enable-precompiled</div>
<div class="line">$ sudo make precompiled_install</div>
</div><!-- fragment --></li>
</ol>
<h3><a class="anchor" id="ch3_2_2_4_restricting_hardware_access_on_linux"></a>
3.2.2.4. Restricting Hardware Access on Linux</h3>
<p >Since <code>/dev/windrvr1511</code> gives direct hardware access to user programs, it may compromise kernel stability on multi-user Linux systems. Please restrict access to DriverWizard and the device file <code>/dev/windrvr1511</code> to trusted users.</p>
<p >For security reasons the WinDriver installation script does not automatically perform the steps of changing the permissions on <code>/dev/windrvr1460</code> and the DriverWizard application (<code>wdwizard</code>).</p>
<h2><a class="anchor" id="ch3_2_3_macos_windriver_installation_instructions"></a>
3.2.3. MacOS WinDriver Installation Instructions</h2>
<h3><a class="anchor" id="ch3_2_3_1_preparing_the_system_for_installation_macos"></a>
3.2.3.1 Preparing the System for Installation</h3>
<p >Firstly, disable <code>System Integrity Protection (SIP)</code>. The instructions on how to do this may vary between different MacOS versions so find the instructions for your specific version.</p>
<p >On MacOS 11 (Big Sur) in order for WinDriver to be able to load you might also need to disable <code>Apple Mobile File Integrity (AMFI)</code>. This could be done by adding <code>"amfi_get_out_of_my_way=1"</code> to your boot-args in the following manner: </p><div class="fragment"><div class="line"># Print out the nvram variables to see if boot-args already contain other values</div>
<div class="line">sudo nvram -p</div>
<div class="line"># If boot-args doesn&#39;t exist in the list or is empty, run this</div>
<div class="line">sudo nvram boot-args=&quot;amfi_get_out_of_my_way=1&quot;</div>
<div class="line"># Otherwise, modify the command such that it keeps all previous values and appends</div>
<div class="line"> amfi_get_out_of_my_way=1 as well.</div>
</div><!-- fragment --><blockquote class="doxtable">
<p >&zwj;<b>⚠ Attention</b></p>
<blockquote class="doxtable">
<p >&zwj;Disalbing SIP and AMFI weakens your system's security mechanisms but is mandatory for WinDriver to run on MacOS and to allow Driver Development in general. Disable these mechanisms at your own risk. </p>
</blockquote>
</blockquote>
<p>Afterwards, install the dependencies, these steps assume you have the Homebrew package manager installed. If it is not yet installed, kindly install it first, and then run the following commands:</p>
<p >Install Qt5 (required for DriverWizard, Debug Monitor) </p><div class="fragment"><div class="line">$ brew install qt5 </div>
</div><!-- fragment --><p> Then install CMake (required for compiling generated code and samples) </p><div class="fragment"><div class="line">$ brew install cmake</div>
</div><!-- fragment --><h3><a class="anchor" id="ch3_2_3_2_installation_on_macos_x86_64"></a>
3.2.3.2 Installation on MacOS x86_64</h3>
<p >Then using a Terminal window, run the following commands: </p><div class="fragment"><div class="line"># Unzipping</div>
<div class="line">$ tar -xvzf WD1511MAC.tar.gz</div>
<div class="line"># Driver install </div>
<div class="line">$ cd WD1511MAC/redist/ </div>
<div class="line">$ sudo ./wd_mac_install.sh</div>
</div><!-- fragment --><ul>
<li>On MacOS version 11 (Big Sur) and higher, installing WinDriver using the install script will raise a pop-up message from the Security &amp; Privacy section of the System Preferences to allow installing a kernel extnesion. In order for WinDriver to run, you must allow it to be installed. This will also require a restart. After restarting the system, you might need to run <div class="fragment"><div class="line">$ sudo ./wd_mac_install.sh</div>
</div><!-- fragment --> again.</li>
</ul>
<h3><a class="anchor" id="ch3_2_3_3_installation_on_macos_arm64_m1"></a>
3.2.3.3 Installation on MacOS ARM64 (M1)</h3>
<p >Then using a Terminal window, run the following commands: </p><div class="fragment"><div class="line"># Unzipping </div>
<div class="line">$ tar -xvzf WD1511MACARM64.tar.gz</div>
<div class="line"># Driver install </div>
<div class="line">$ cd WD1511MACARM64/redist/ </div>
<div class="line">$ sudo ./wd_mac_install.sh</div>
</div><!-- fragment --><ul>
<li>The ARM64 version of WinDriver for MacOS requires that before installation the users will specify the Vendor ID(s) and Product ID(s) of the devices they wish to use. The install script will prompt the users to enter these parameters. For more information, search for Apple's documentation regarding <code>IOPCIMatch</code>.</li>
<li>On MacOS version 11 (Big Sur) and higher, installing WinDriver using the install script will raise a pop-up message from the Security &amp; Privacy section of the System Preferences to allow installing a kernel extnesion. In order for WinDriver to run, you must allow it to be installed. This will also require a restart. After restarting the system, you might need to run <div class="fragment"><div class="line">$ sudo ./wd_mac_install.sh</div>
</div><!-- fragment --> again.</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;<b>⚠ Attention</b></p>
<blockquote class="doxtable">
<p >&zwj;If the users enter a VID/PID mask which is too "wide" (covers many devices) this might cause a system crash as MacOS Big Sur and higher does not allow WinDriver to access certain system-reserved devices. The system will reboot and remove the kernel extension and the user will have to run the installation script again and enter different, more specific parameters in order to install WinDriver. Performing a PCI scan on such systems (using the DriverWizard or <a class="el" href="wdc__lib_8h_a15790844cb433fbaaf8c390a368d0efb.html#a15790844cb433fbaaf8c390a368d0efb" title="Scans the PCI bus for all devices with the specified vendor and device ID combination and returns inf...">WDC_PciScanDevices()</a>) will show only the devices that answer to the parameters provided by the user in this stage. </p>
</blockquote>
</blockquote>
<h1><a class="anchor" id="ch3_3_upgrading_your_installation"></a>
3.3. Upgrading Your Installation</h1>
<p >To upgrade to a new version of WinDriver, follow the installation steps for your target operating system, as outlined in the previous <a class="el" href="ch3_installing_windriver.html#ch3_2_windriver_installation_process">Section 3.2</a>. Download and install a new version of WinDriver that matches your development platform and the operating systems and CPU configurations of the target platforms on which you intend the driver to be used.</p>
<p >After the installation, start DriverWizard and enter the new license string, if you have received one. This completes the minimal upgrade steps.</p>
<p >To upgrade your source code:</p>
<ul>
<li>Pass the new license string as a parameter to <a class="el" href="wdc__lib_8h_afe495f80d709b330bb26a80756cd9f9f.html#afe495f80d709b330bb26a80756cd9f9f" title="Opens and stores a handle to WinDriver&#39;s kernel module and initializes the WDC library according to t...">WDC_DriverOpen()</a> / <a class="el" href="wdu__lib_8h_a043527105668e3c0e1ec6af7965b2357.html#a043527105668e3c0e1ec6af7965b2357" title="Starts listening to devices matching a criteria, and registers notification callbacks for those devic...">WDU_Init()</a> (or to <a class="el" href="windrvr_8h_a7d44fc6d31627ded58bfd36543909464.html#a7d44fc6d31627ded58bfd36543909464" title="Transfers the license string to the WinDriver kernel module When using the high-level WDC library API...">WD_License()</a> when using the low-level API).</li>
<li>Verify that the call to <a class="el" href="windrvr_8h_aa9bbb693e0e73c7bc1aa910109be8b8c.html#aa9bbb693e0e73c7bc1aa910109be8b8c" title="Sets the name of the WinDriver kernel module, which will be used by the calling application.">WD_DriverName()</a> in your driver code (if exists) uses the name of the new driver module — <code>windrvr1511</code> or your renamed version of this driver.</li>
</ul>
<p >If you use the generated DriverWizard code or one of the samples from the new WinDriver version, the code will already use the default driver name from the new version. Also, if your code is based on generated/sample code from an earlier version of WinDriver, rebuilding the code with <code><a class="el" href="windrvr_8h.html">windrvr.h</a></code> from the new version is sufficient to update the code to use the new default driver-module name (due to the use of the <code>WD_DEFAULT_DRIVER_NAME_BASE</code> definition).</p>
<p >If you elect to rename the WinDriver driver module (as outlined in <a class="el" href="ch17_driver_installation_advanced_issues.html#ch17_2_renaming_the_windriver_kernel_driver">Chapter 17.2</a>), ensure that your code calls <a class="el" href="windrvr_8h_aa9bbb693e0e73c7bc1aa910109be8b8c.html#aa9bbb693e0e73c7bc1aa910109be8b8c" title="Sets the name of the WinDriver kernel module, which will be used by the calling application.">WD_DriverName()</a> with your custom driver name. If you rename the driver from the new version to a name already used in your old project, you do not need to modify your code.</p>
<h1><a class="anchor" id="ch3_4_checking_your_installation"></a>
3.4. Checking Your Installation</h1>
<h2><a class="anchor" id="ch3_4_1_installation_check"></a>
3.4.1. Installation Check</h2>
<ul>
<li>Start DriverWizard — <code>&lt;path to WinDriver&gt;/wizard/wdwizard</code>. On Windows you can also run DriverWizard from the <b>Start</b> menu: <b>Start</b> | <b>Programs</b> | <b>WinDriver</b> | <b>DriverWizard</b>.</li>
<li>If you are a registered user, make sure that your WinDriver license is registered (refer to [Section 3.2] (<a class="el" href="ch3_installing_windriver.html#ch3_2_windriver_installation_process">3.2. WinDriver Installation Process</a>), which explains how to install WinDriver and register your license).</li>
</ul>
<p >If you are an evaluation version user, you do not need to register a license.</p>
<p >For PCI cards/USB devices — Insert your card into the PCI bus/your device into the USB slot, and verify that DriverWizard detects it. For ISA cards (Windows and Linux) — Insert your card into the ISA bus, configure DriverWizard with your card's resources and try to read/write to the card using DriverWizard.</p>
<h1><a class="anchor" id="ch3_5_uninstalling_windriver"></a>
3.5. Uninstalling WinDriver</h1>
<p >This section will help you to uninstall either the evaluation or registered version of WinDriver</p>
<h2><a class="anchor" id="ch3_5_1_windows_windriver_uninstall_instructions"></a>
3.5.1. Windows WinDriver Uninstall Instructions</h2>
<p >You can select to use the graphical <code>wdreg_gui.exe</code> utility instead of <code>wdreg.exe</code>.</p>
<p ><code>wdreg.exe</code> and <code>wdreg_gui.exe</code> are found in the <code>WinDriver\util</code> directory <br  />
 (see <a class="el" href="ch16_dynamically_loading_your_driver.html">Chapter 16: Dynamically Loading Your Driver</a> for details regarding these utilities).</p>
<p >To uninstall WinDriver, please follow these steps:</p>
<ul>
<li>Close any open WinDriver applications, including DriverWizard, the Debug Monitor, and user-specific applications.</li>
<li>If you created a Kernel PlugIn driver, uninstall and erase it:<ul>
<li>If your Kernel PlugIn driver is currently installed, uninstall it using the <code>wdreg</code> utility:</li>
</ul>
</li>
</ul>
<div class="fragment"><div class="line"># The Kernel PlugIn driver name should be specified without the `*.sys` extension.</div>
<div class="line">wdreg -name &lt;Kernel PlugIn name&gt; uninstall</div>
</div><!-- fragment --><ul>
<li>Erase your Kernel PlugIn driver from the <code>windir%\system32\drivers</code> directory.</li>
<li>Uninstall all Plug-and-Play devices (USB/PCI) that have been registered with WinDriver via an INF file:</li>
</ul>
<div class="fragment"><div class="line"># Uninstall a device INF using the wdreg utility:</div>
<div class="line">wdreg -inf &lt;path to the INF file&gt; uninstall</div>
</div><!-- fragment --><ul>
<li>Verify that no INF files that register your device(s) with WinDriver's kernel module (<code>windrvr1511.sys</code>) are found in the <code>windir%\inf directory</code>.</li>
<li>Uninstall WinDriver:<ul>
<li><b>On the development PC</b>, on which you installed the WinDriver toolkit: <b>Start</b> | <b>WinDriver</b> | <b>Uninstall</b> , OR run the <code>uninstall.exe</code> utility from the WinDriver installation directory. The uninstall will stop and unload the WinDriver kernel module (<code>windrvr1511.sys</code>); delete the copy of the <code>windrvr1511.inf</code> file from the <code>windir%\inf</code> directory; delete WinDriver from Windows' <b>Start</b> menu; delete the WinDriver installation directory (except for files that you added to this directory); and delete the shortcut icons to the DriverWizard and Debug Monitor utilities from the Desktop.</li>
<li><b>On a target PC</b>, on which you installed the WinDriver kernel module (<code>windrvr1511.sys</code>), but not the entire WinDriver toolkit. Use the wdreg utility to stop and unload the driver: <div class="fragment"><div class="line">wdreg -inf &lt;path to windrvr1511.inf&gt; uninstall</div>
</div><!-- fragment --></li>
</ul>
</li>
</ul>
<blockquote class="doxtable">
<p >&zwj;<b>⚠ Attention</b></p>
<blockquote class="doxtable">
<p >&zwj;When running this command, <code>windrvr1511.sys</code> should reside in the same directory as <code>windrvr1511.inf</code>. </p>
</blockquote>
</blockquote>
<p>On the development PC, the relevant wdreg uninstall command is executed for you by the uninstall utility.</p>
<p >If you attempt to uninstall WinDriver while there are open handles to the WinDriver service (<code>windrvr1511.sys</code> or your renamed driver, or there are connected and enabled Plug-and-Play devices that are registered to work with this service, wdreg will fail to uninstall the driver. This ensures that you do not uninstall the driver while it is being used.</p>
<p >You can check if the WinDriver kernel module is loaded by running the Debug Monitor utility (<code>WinDriver\util\wddebug_gui.exe</code>). When the driver is loaded, the Debug Monitor log displays driver and OS information; otherwise, it displays a relevant error message. On the development PC, the uninstall command will delete the Debug Monitor executables; to use this utility after the uninstallation, create a copy of wddebug_gui.exe before performing the uninstall procedure.</p>
<ul>
<li>If <code>windrvr1511.sys</code> was successfully unloaded, erase the following files (if they exist):<ul>
<li><code>windir%\system32\drivers\windrvr1511.sys</code></li>
<li><code>windir%\inf\windrvr1511.inf</code></li>
<li><code>windir%\system32\wdapi1511.dll</code></li>
<li><code>windir%\sysWOW64\wdapi1511.dll</code> (Windows x64)</li>
</ul>
</li>
<li>Reboot the computer.</li>
</ul>
<h2><a class="anchor" id="ch3_5_2_linux_windriver_uninstall_instructions"></a>
3.5.2. Linux WinDriver Uninstall Instructions</h2>
<p >The following commands must be executed with root privileges.</p>
<ul>
<li>Verify that the WinDriver driver module is not being used by another program:<ul>
<li>View the list of modules and the programs using each of them:</li>
</ul>
</li>
</ul>
<div class="fragment"><div class="line">&gt; /sbin/lsmod &quot;</div>
</div><!-- fragment --><ul>
<li>Identify any applications and modules that are using the WinDriver driver module. By default, WinDriver module names begin with <code>windrvr1511</code>.</li>
<li>Close any applications that are using the WinDriver driver module.</li>
<li>If you created a Kernel PlugIn driver, unload the Kernel PlugIn driver module:</li>
</ul>
<div class="fragment"><div class="line">/sbin/rmmod kp_xxx_module</div>
</div><!-- fragment --><ul>
<li>Run the following command to unload the WinDriver driver module:</li>
</ul>
<div class="fragment"><div class="line">/sbin/modprobe -r windrvr1511</div>
</div><!-- fragment --><ul>
<li>If you created a Kernel PlugIn driver, remove it as well.</li>
<li>Remove the file <code>.windriver.rc</code> from the /etc directory:</li>
</ul>
<div class="fragment"><div class="line">rm -f /etc/.windriver.rc</div>
</div><!-- fragment --><ul>
<li>Remove the file <code>.windriver.rc</code> from <code>$HOME</code>:</li>
</ul>
<div class="fragment"><div class="line">rm -f $HOME/.windriver.rc</div>
</div><!-- fragment --><ul>
<li>If you created a symbolic link to DriverWizard, remove the link using the command:</li>
</ul>
<div class="fragment"><div class="line">rm -f /usr/bin/wdwizard</div>
</div><!-- fragment --><ul>
<li>Remove the WinDriver installation directory using the command:</li>
</ul>
<div class="fragment"><div class="line">rm -rf (path to the WinDriver directory)</div>
</div><!-- fragment --><p >For example, <code># rm -rf ~/WinDriver</code>.</p>
<ul>
<li>Remove the WinDriver shared object file, if it exists:</li>
</ul>
<p ><code>/usr/lib/libwdapi1511.so</code> (32-bit x86) / <code>/usr/lib64/libwdapi1511.so</code> (64-bit x86).</p>
<h2><a class="anchor" id="ch3_5_3_macos_windriver_uninstall_instructions"></a>
3.5.3. MacOS WinDriver Uninstall Instructions</h2>
<p >To uninstall WinDriver on MacOS, open a terminal window and type the following commands:</p>
<div class="fragment"><div class="line">$ cd WinDriver-1511-Darwin/redist/ </div>
<div class="line">$ sudo ./wd_mac_uninstall.sh</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
